{% extends "base.html" %}
{% block title %}Bank Statement Converter - Sign In{% endblock %}
{% block content %}
<style>
.notifications-container {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}
.flash {
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    font-weight: 500;
    animation: slideIn 0.3s ease-out;
}
.flash.success {
    background-color: #96faad;
    color: #1c7530;
    border-left: 4px solid #2575fc;
}
.flash.error {
    background-color: #ffa7ae;
    color: #a02a36;
    border-left: 4px solid #dc3545;
}
@keyframes slideIn {
    from {
        transform: translateY(-20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}
</style>
<section class="login-section" style="margin-top: 70px;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="login-card">
                    <div class="section-title text-center mb-4">
                        <h2>{{ text['title'] }}</h2>
                        <p>{{ text['subtitle'] }}</p>
                    </div>
                    <form class="login-form" action="" method="post">
                        {{ form.hidden_tag() }}  <!-- CSRF protection -->
                        
                        <div class="notifications-container">
                            {% with messages = get_flashed_messages(with_categories=true) %}
                            {% if messages %}
                            {% for category, message in messages %}
                            <div class="flash {{ category }}">{{ message }}</div>
                            {% endfor %}
                            {% endif %}
                            {% endwith %}
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">{{ text['email_label'] }}</label>
                            {{ form.email(class_='form-control',
                                       placeholder='Enter your email address') }}
                            {% for error in form.email.errors %}
                            <span class="error">{{ error }}</span>
                            {% endfor %}
                        </div>

                        <div class="mb-3">
                            <label for="password" class="form-label">{{ text['password_label'] }}</label>
                            {{ form.password(class_='form-control',
                                           placeholder='Enter your password') }}
                            {% for error in form.password.errors %}
                            <span class="error">{{ error }}</span>
                            {% endfor %}
                        </div>

                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="form-check">
                                    {{ form.remember_me(class_='form-check-input') }}
                                    <label class="form-check-label" for="remember_me">{{ text['remember_me'] }}</label>
                                </div>
                                <a href="#" class="login-link">{{ text['forgot_password'] }}?</a>
                            </div>
                        </div>

                        <div class="d-grid gap-2">
                            <button type="submit" class="cta-button">{{ text['sign_in_button'] }}</button>
                        </div>
                    </form>
                    <div class="text-center mt-4">
                        <p>{{ text['no_account'] }} <a href="{{ url_for('register') }}" class="login-link">{{ text['sign_up'] }}</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- FAQ Section -->
<section class="faq-section">
    <div class="container">
        <div class="section-title">
            <h2>{{ text['help_title'] }}</h2>
        </div>
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="faq-item">
                    <h4>Forgot your password?</h4>
                    <p>Click the "Forgot Password" link below the password field to reset your password.</p>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="faq-item">
                    <h4>{{ text['account_locked'] }}?</h4>
                    <p>{{ text['account_locked_description'] }}.</p>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="faq-item">
                    <h4>{{ text['new_device'] }}?</h4>
                    <p>{{ text['new_device_description'] }}.</p>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="faq-item">
                    <h4>{{ text['remember_me_issue'] }}?</h4>
                    <p>{{ text['remember_me_description'] }}.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.login-link {
    color: #6a11cb;
    font-weight: 600;
    text-decoration: none;
}
.login-link:hover {
    text-decoration: underline;
}
</style>
</div>
</div>
</section>
{% endblock %}
